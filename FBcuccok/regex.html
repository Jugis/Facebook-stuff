<img class="lazy alignnone size-full wp-image-65722" src="http://latnodkell.com/wp-content/themes/2pnet/img/placeholder.png"
     data-lazysrc="http://latnodkell.com/wp-content/uploads/2017/02/paracucc8-1.jpg" alt="" width="600" height="902"
     srcset="http://latnodkell.com/wp-content/uploads/2017/02/paracucc8-1.jpg 600w, http://latnodkell.com/wp-content/uploads/2017/02/paracucc8-1-200x300.jpg 200w" sizes="(max-width: 600px) 100vw, 600px" />

$re = '/lazysrc="([^"]*\.(?:png|jpeg|jpg|gif|bmp))"/Ui';
$str = '<img class="lazy alignnone size-full wp-image-65722" src="http://latnodkell.com/wp-content/themes/2pnet/img/placeholder.png" data-lazysrc="http://latnodkell.com/wp-content/uploads/2017/02/paracucc8-1.jpg" alt="" width="600" height="902" srcset="http://latnodkell.com/wp-content/uploads/2017/02/paracucc8-1.jpg 600w, http://latnodkell.com/wp-content/uploads/2017/02/paracucc8-1-200x300.jpg 200w" sizes="(max-width: 600px) 100vw, 600px" />';

preg_match($re, $str, $matches);

// Print the entire match result
print_r($matches[1]);

<img class="lazy alignnone size-full wp-image-60385" alt="szeretetet9" src="http://latnodkell.com/wp-content/themes/2pnet/img/placeholder.png" data-lazysrc="http://latnodkell.com/wp-content/uploads/2016/10/szeretetet9.jpg" width="650" height="696" srcset="http://latnodkell.com/wp-content/uploads/2016/10/szeretetet9.jpg 650w, http://latnodkell.com/wp-content/uploads/2016/10/szeretetet9-280x300.jpg 280w" sizes="(max-width: 650px) 100vw, 650px" />

http://latnodkell.com/wp-content/uploads/2016/10/szeretetet9.jpg

$str = $tari;
$new_str = preg_replace_callback('/<img([^>]+)>/', function($img_match){
if(preg_match('/\bsrc="[^"]+"/i', $img_match[1], $src_match)) {
return '<img '. $src_match[0] .'>';
} else {
return $img_match[1];
}
}, $str);
echo $new_str;
Csevegés vége
